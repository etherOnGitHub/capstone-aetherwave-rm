{% extends "base.html" %}
{% load i18n allauth account %}

{% block content %}
<div id="auth-modal-content" class="fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm">
    <div class="border-brandSage w-full max-w-md rounded-lg border bg-[#111] p-8 shadow-xl">
        
        <a href="/"
           class="fixed top-3 right-3 text-2xl leading-none text-gray-400 transition hover:text-white">
            EXIT &times;
        </a>
        
        <h2 class="mb-4 text-center text-2xl font-bold">{% trans "Password Reset" %}</h2>

        {% if user.is_authenticated %}
        {% include "account/snippets/already_logged_in.html" %}
        {% endif %}

        <p class="mb-6 text-center text-sm text-gray-400">
            {% trans "Forgot your password? Enter your email address below, and we'll send you an email allowing you to reset it." %}
        </p>

        {% url 'account_reset_password' as reset_url %}
        <form method="post" action="{{ reset_url }}" class="space-y-4">
            {% csrf_token %}
            {% element fields form=form %}{% endelement %}
            {{ redirect_field }}
            <button type="submit"
                    class="bg-brandBlue w-full rounded py-2 text-white transition hover:bg-brandOrange">
                {% trans "Reset My Password" %}
            </button>
        </form>

        <p class="mt-4 text-center text-sm text-gray-400">
            {% blocktrans %}Please contact us if you have any trouble resetting your password.{% endblocktrans %}
        </p>

        <p class="mt-4 text-center text-sm text-gray-400">
            <a href="{% url 'account_login' %}" class="text-brandOrange hover:underline">
                {% trans "Back to Sign In" %}
            </a>
        </p>
    </div>
</div>
{% endblock %}
